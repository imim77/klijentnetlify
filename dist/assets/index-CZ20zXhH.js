(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const rt=!1;var Lt=Array.isArray,An=Array.prototype.indexOf,ke=Array.prototype.includes,Xe=Array.from,Nn=Object.defineProperty,ze=Object.getOwnPropertyDescriptor,On=Object.getOwnPropertyDescriptors,Dn=Object.prototype,Mn=Array.prototype,Bt=Object.getPrototypeOf,Ct=Object.isExtensible;const Ln=()=>{};function Bn(t){for(var e=0;e<t.length;e++)t[e]()}function zt(){var t,e,n=new Promise((r,s)=>{t=r,e=s});return{promise:n,resolve:t,reject:e}}const R=2,et=4,tt=8,Wt=1<<24,re=16,X=32,be=64,st=128,H=512,P=1024,F=2048,Z=4096,B=8192,le=16384,we=32768,Re=65536,bt=1<<17,Ut=1<<18,Ne=1<<19,zn=1<<20,oe=1<<25,ye=65536,it=1<<21,ut=1<<22,fe=1<<23,nt=Symbol("$state"),pe=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Wn(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Un(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function qn(t,e,n){throw new Error("https://svelte.dev/e/each_key_duplicate")}function Hn(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function $n(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function jn(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Vn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Jn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Yn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Kn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Gn(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Qn=1,Zn=2,Xn=16,er=1,tr=2,k=Symbol(),qt="http://www.w3.org/1999/xhtml";function nr(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Ht(t){return t===this.v}function rr(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function $t(t){return!rr(t,this.v)}let qe=!1,sr=!1;function ir(){qe=!0}let T=null;function Fe(t){T=t}function jt(t,e=!1,n){T={p:T,i:!1,c:null,e:null,s:t,x:null,l:qe&&!e?{s:null,u:null,$:[]}:null}}function Vt(t){var e=T,n=e.e;if(n!==null){e.e=null;for(var r of n)un(r)}return e.i=!0,T=e.p,{}}function He(){return!qe||T!==null&&T.l===null}let Se=[];function or(){var t=Se;Se=[],Bn(t)}function Pe(t){if(Se.length===0){var e=Se;queueMicrotask(()=>{e===Se&&or()})}Se.push(t)}function Jt(t){var e=w;if(e===null)return m.f|=fe,t;if((e.f&we)===0&&(e.f&et)===0)throw t;ae(t,e)}function ae(t,e){for(;e!==null;){if((e.f&st)!==0){if((e.f&we)===0)throw t;try{e.b.error(t);return}catch(n){t=n}}e=e.parent}throw t}const ar=-7169;function S(t,e){t.f=t.f&ar|e}function dt(t){(t.f&H)!==0||t.deps===null?S(t,P):S(t,Z)}function Yt(t){if(t!==null)for(const e of t)(e.f&R)===0||(e.f&ye)===0||(e.f^=ye,Yt(e.deps))}function Kt(t,e,n){(t.f&F)!==0?e.add(t):(t.f&Z)!==0&&n.add(t),Yt(t.deps),S(t,P)}const Ye=new Set;let C=null,K=null,W=[],ht=null,ot=!1;class ce{current=new Map;previous=new Map;#t=new Set;#a=new Set;#e=0;#i=0;#n=null;#o=new Set;#r=new Set;#s=new Map;is_fork=!1;#l=!1;#c(){return this.is_fork||this.#i>0}skip_effect(e){this.#s.has(e)||this.#s.set(e,{d:[],m:[]})}unskip_effect(e){var n=this.#s.get(e);if(n){this.#s.delete(e);for(var r of n.d)S(r,F),G(r);for(r of n.m)S(r,Z),G(r)}}process(e){W=[],this.apply();var n=[],r=[];for(const s of e)this.#f(s,n,r);if(this.#c()){this.#u(r),this.#u(n);for(const[s,i]of this.#s)Zt(s,i)}else{for(const s of this.#t)s();this.#t.clear(),this.#e===0&&this.#h(),C=null,Et(r),Et(n),this.#n?.resolve()}K=null}#f(e,n,r){e.f^=P;for(var s=e.first;s!==null;){var i=s.f,a=(i&(X|be))!==0,o=a&&(i&P)!==0,l=o||(i&B)!==0||this.#s.has(s);if(!l&&s.fn!==null){a?s.f^=P:(i&et)!==0?n.push(s):je(s)&&((i&re)!==0&&this.#r.add(s),Ae(s));var f=s.first;if(f!==null){s=f;continue}}for(;s!==null;){var h=s.next;if(h!==null){s=h;break}s=s.parent}}}#u(e){for(var n=0;n<e.length;n+=1)Kt(e[n],this.#o,this.#r)}capture(e,n){n!==k&&!this.previous.has(e)&&this.previous.set(e,n),(e.f&fe)===0&&(this.current.set(e,e.v),K?.set(e,e.v))}activate(){C=this,this.apply()}deactivate(){C===this&&(C=null,K=null)}flush(){if(this.activate(),W.length>0){if(lr(),C!==null&&C!==this)return}else this.#e===0&&this.process([]);this.deactivate()}discard(){for(const e of this.#a)e(this);this.#a.clear()}#h(){if(Ye.size>1){this.previous.clear();var e=K,n=!0;for(const s of Ye){if(s===this){n=!1;continue}const i=[];for(const[o,l]of this.current){if(s.current.has(o))if(n&&l!==s.current.get(o))s.current.set(o,l);else continue;i.push(o)}if(i.length===0)continue;const a=[...s.current.keys()].filter(o=>!this.current.has(o));if(a.length>0){var r=W;W=[];const o=new Set,l=new Map;for(const f of i)Gt(f,a,o,l);if(W.length>0){C=s,s.apply();for(const f of W)s.#f(f,[],[]);s.deactivate()}W=r}}C=null,K=e}Ye.delete(this)}increment(e){this.#e+=1,e&&(this.#i+=1)}decrement(e){this.#e-=1,e&&(this.#i-=1),!this.#l&&(this.#l=!0,Pe(()=>{this.#l=!1,this.#c()?W.length>0&&this.flush():this.revive()}))}revive(){for(const e of this.#o)this.#r.delete(e),S(e,F),G(e);for(const e of this.#r)S(e,Z),G(e);this.flush()}oncommit(e){this.#t.add(e)}ondiscard(e){this.#a.add(e)}settled(){return(this.#n??=zt()).promise}static ensure(){if(C===null){const e=C=new ce;Ye.add(C),Pe(()=>{C===e&&e.flush()})}return C}apply(){}}function lr(){ot=!0;var t=null;try{for(var e=0;W.length>0;){var n=ce.ensure();if(e++>1e3){var r,s;fr()}n.process(W),ue.clear()}}finally{W=[],ot=!1,ht=null}}function fr(){try{Vn()}catch(t){ae(t,ht)}}let ne=null;function Et(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&(le|B))===0&&je(r)&&(ne=new Set,Ae(r),r.deps===null&&r.first===null&&r.nodes===null&&r.teardown===null&&r.ac===null&&hn(r),ne?.size>0)){ue.clear();for(const s of ne){if((s.f&(le|B))!==0)continue;const i=[s];let a=s.parent;for(;a!==null;)ne.has(a)&&(ne.delete(a),i.push(a)),a=a.parent;for(let o=i.length-1;o>=0;o--){const l=i[o];(l.f&(le|B))===0&&Ae(l)}}ne.clear()}}ne=null}}function Gt(t,e,n,r){if(!n.has(t)&&(n.add(t),t.reactions!==null))for(const s of t.reactions){const i=s.f;(i&R)!==0?Gt(s,e,n,r):(i&(ut|re))!==0&&(i&F)===0&&Qt(s,e,r)&&(S(s,F),G(s))}}function Qt(t,e,n){const r=n.get(t);if(r!==void 0)return r;if(t.deps!==null)for(const s of t.deps){if(ke.call(e,s))return!0;if((s.f&R)!==0&&Qt(s,e,n))return n.set(s,!0),!0}return n.set(t,!1),!1}function G(t){var e=ht=t,n=e.b;if(n?.is_pending&&(t.f&(et|tt|Wt))!==0&&(t.f&we)===0){n.defer_effect(t);return}for(;e.parent!==null;){e=e.parent;var r=e.f;if(ot&&e===w&&(r&re)!==0&&(r&Ut)===0&&(r&we)!==0)return;if((r&(be|X))!==0){if((r&P)===0)return;e.f^=P}}W.push(e)}function Zt(t,e){if(!((t.f&X)!==0&&(t.f&P)!==0)){(t.f&F)!==0?e.d.push(t):(t.f&Z)!==0&&e.m.push(t),S(t,P);for(var n=t.first;n!==null;)Zt(n,e),n=n.next}}function cr(t){let e=0,n=Ie(0),r;return()=>{vt()&&(g(n),Nr(()=>(e===0&&(r=bn(()=>t(()=>We(n)))),e+=1,()=>{Pe(()=>{e-=1,e===0&&(r?.(),r=void 0,We(n))})})))}}var ur=Re|Ne;function dr(t,e,n,r){new hr(t,e,n,r)}class hr{parent;is_pending=!1;transform_error;#t;#a=null;#e;#i;#n;#o=null;#r=null;#s=null;#l=null;#c=0;#f=0;#u=!1;#h=new Set;#p=new Set;#d=null;#w=cr(()=>(this.#d=Ie(this.#c),()=>{this.#d=null}));constructor(e,n,r,s){this.#t=e,this.#e=n,this.#i=i=>{var a=w;a.b=this,a.f|=st,r(i)},this.parent=w.b,this.transform_error=s??this.parent?.transform_error??(i=>i),this.#n=_t(()=>{this.#g()},ur)}#y(){try{this.#o=q(()=>this.#i(this.#t))}catch(e){this.error(e)}}#I(e){const n=this.#e.failed;n&&(this.#s=q(()=>{n(this.#t,()=>e,()=>()=>{})}))}#C(){const e=this.#e.pending;e&&(this.is_pending=!0,this.#r=q(()=>e(this.#t)),Pe(()=>{var n=this.#l=document.createDocumentFragment(),r=_e();n.append(r),this.#o=this.#_(()=>(ce.ensure(),q(()=>this.#i(r)))),this.#f===0&&(this.#t.before(n),this.#l=null,ge(this.#r,()=>{this.#r=null}),this.#v())}))}#g(){try{if(this.is_pending=this.has_pending_snippet(),this.#f=0,this.#c=0,this.#o=q(()=>{this.#i(this.#t)}),this.#f>0){var e=this.#l=document.createDocumentFragment();_n(this.#o,e);const n=this.#e.pending;this.#r=q(()=>n(this.#t))}else this.#v()}catch(n){this.error(n)}}#v(){this.is_pending=!1;for(const e of this.#h)S(e,F),G(e);for(const e of this.#p)S(e,Z),G(e);this.#h.clear(),this.#p.clear()}defer_effect(e){Kt(e,this.#h,this.#p)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#e.pending}#_(e){var n=w,r=m,s=T;te(this.#n),j(this.#n),Fe(this.#n.ctx);try{return e()}catch(i){return Jt(i),null}finally{te(n),j(r),Fe(s)}}#m(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(e);return}this.#f+=e,this.#f===0&&(this.#v(),this.#r&&ge(this.#r,()=>{this.#r=null}),this.#l&&(this.#t.before(this.#l),this.#l=null))}update_pending_count(e){this.#m(e),this.#c+=e,!(!this.#d||this.#u)&&(this.#u=!0,Pe(()=>{this.#u=!1,this.#d&&xe(this.#d,this.#c)}))}get_effect_pending(){return this.#w(),g(this.#d)}error(e){var n=this.#e.onerror;let r=this.#e.failed;if(!n&&!r)throw e;this.#o&&(O(this.#o),this.#o=null),this.#r&&(O(this.#r),this.#r=null),this.#s&&(O(this.#s),this.#s=null);var s=!1,i=!1;const a=()=>{if(s){nr();return}s=!0,i&&Gn(),this.#s!==null&&ge(this.#s,()=>{this.#s=null}),this.#_(()=>{ce.ensure(),this.#g()})},o=l=>{try{i=!0,n?.(l,a),i=!1}catch(f){ae(f,this.#n&&this.#n.parent)}r&&(this.#s=this.#_(()=>{ce.ensure();try{return q(()=>{var f=w;f.b=this,f.f|=st,r(this.#t,()=>l,()=>a)})}catch(f){return ae(f,this.#n.parent),null}}))};Pe(()=>{var l;try{l=this.transform_error(e)}catch(f){ae(f,this.#n&&this.#n.parent);return}l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(o,f=>ae(f,this.#n&&this.#n.parent)):o(l)})}}function pr(t,e,n,r){const s=He()?Xt:en;var i=t.filter(d=>!d.settled);if(n.length===0&&i.length===0){r(e.map(s));return}var a=w,o=vr(),l=i.length===1?i[0].promise:i.length>1?Promise.all(i.map(d=>d.promise)):null;function f(d){o();try{r(d)}catch(p){(a.f&le)===0&&ae(p,a)}at()}if(n.length===0){l.then(()=>f(e.map(s)));return}function h(){o(),Promise.all(n.map(d=>gr(d))).then(d=>f([...e.map(s),...d])).catch(d=>ae(d,a))}l?l.then(h):h()}function vr(){var t=w,e=m,n=T,r=C;return function(i=!0){te(t),j(e),Fe(n),i&&r?.activate()}}function at(t=!0){te(null),j(null),Fe(null),t&&C?.deactivate()}function _r(){var t=w.b,e=C,n=t.is_rendered();return t.update_pending_count(1),e.increment(n),()=>{t.update_pending_count(-1),e.decrement(n)}}function Xt(t){var e=R|F,n=m!==null&&(m.f&R)!==0?m:null;return w!==null&&(w.f|=Ne),{ctx:T,deps:null,effects:null,equals:Ht,f:e,fn:t,reactions:null,rv:0,v:k,wv:0,parent:n??w,ac:null}}function gr(t,e,n){w===null&&Un();var s=void 0,i=Ie(k),a=!m,o=new Map;return Ar(()=>{var l=zt();s=l.promise;try{Promise.resolve(t()).then(l.resolve,l.reject).finally(at)}catch(p){l.reject(p),at()}var f=C;if(a){var h=_r();o.get(f)?.reject(pe),o.delete(f),o.set(f,l)}const d=(p,v=void 0)=>{if(f.activate(),v)v!==pe&&(i.f|=fe,xe(i,v));else{(i.f&fe)!==0&&(i.f^=fe),xe(i,p);for(const[c,_]of o){if(o.delete(c),c===f)break;_.reject(pe)}}h&&h()};l.promise.then(d,p=>d(null,p||"unknown"))}),Rr(()=>{for(const l of o.values())l.reject(pe)}),new Promise(l=>{function f(h){function d(){h===s?l(i):f(s)}h.then(d,d)}f(s)})}function en(t){const e=Xt(t);return e.equals=$t,e}function mr(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)O(e[n])}}function wr(t){for(var e=t.parent;e!==null;){if((e.f&R)===0)return(e.f&le)===0?e:null;e=e.parent}return null}function pt(t){var e,n=w;te(wr(t));try{t.f&=~ye,mr(t),e=yn(t)}finally{te(n)}return e}function tn(t){var e=pt(t);if(!t.equals(e)&&(t.wv=mn(),(!C?.is_fork||t.deps===null)&&(t.v=e,t.deps===null))){S(t,P);return}Ce||(K!==null?(vt()||C?.is_fork)&&K.set(t,e):dt(t))}function yr(t){if(t.effects!==null)for(const e of t.effects)(e.teardown||e.ac)&&(e.teardown?.(),e.ac?.abort(pe),e.teardown=Ln,e.ac=null,Ue(e,0),gt(e))}function nn(t){if(t.effects!==null)for(const e of t.effects)e.teardown&&Ae(e)}let lt=new Set;const ue=new Map;let rn=!1;function Ie(t,e){var n={f:0,v:t,reactions:null,equals:Ht,rv:0,wv:0};return n}function U(t,e){const n=Ie(t);return Mr(n),n}function Ir(t,e=!1,n=!0){const r=Ie(t);return e||(r.equals=$t),qe&&n&&T!==null&&T.l!==null&&(T.l.s??=[]).push(r),r}function x(t,e,n=!1){m!==null&&(!Q||(m.f&bt)!==0)&&He()&&(m.f&(R|re|ut|bt))!==0&&($===null||!ke.call($,t))&&Kn();let r=n?Te(e):e;return xe(t,r)}function xe(t,e){if(!t.equals(e)){var n=t.v;Ce?ue.set(t,e):ue.set(t,n),t.v=e;var r=ce.ensure();if(r.capture(t,n),(t.f&R)!==0){const s=t;(t.f&F)!==0&&pt(s),dt(s)}t.wv=mn(),sn(t,F),He()&&w!==null&&(w.f&P)!==0&&(w.f&(X|be))===0&&(z===null?Lr([t]):z.push(t)),!r.is_fork&&lt.size>0&&!rn&&Cr()}return e}function Cr(){rn=!1;for(const t of lt)(t.f&P)!==0&&S(t,Z),je(t)&&Ae(t);lt.clear()}function We(t){x(t,t.v+1)}function sn(t,e){var n=t.reactions;if(n!==null)for(var r=He(),s=n.length,i=0;i<s;i++){var a=n[i],o=a.f;if(!(!r&&a===w)){var l=(o&F)===0;if(l&&S(a,e),(o&R)!==0){var f=a;K?.delete(f),(o&ye)===0&&(o&H&&(a.f|=ye),sn(f,Z))}else l&&((o&re)!==0&&ne!==null&&ne.add(a),G(a))}}}function Te(t){if(typeof t!="object"||t===null||nt in t)return t;const e=Bt(t);if(e!==Dn&&e!==Mn)return t;var n=new Map,r=Lt(t),s=U(0),i=me,a=o=>{if(me===i)return o();var l=m,f=me;j(null),Pt(i);var h=o();return j(l),Pt(f),h};return r&&n.set("length",U(t.length)),new Proxy(t,{defineProperty(o,l,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&Jn();var h=n.get(l);return h===void 0?a(()=>{var d=U(f.value);return n.set(l,d),d}):x(h,f.value,!0),!0},deleteProperty(o,l){var f=n.get(l);if(f===void 0){if(l in o){const h=a(()=>U(k));n.set(l,h),We(s)}}else x(f,k),We(s);return!0},get(o,l,f){if(l===nt)return t;var h=n.get(l),d=l in o;if(h===void 0&&(!d||ze(o,l)?.writable)&&(h=a(()=>{var v=Te(d?o[l]:k),c=U(v);return c}),n.set(l,h)),h!==void 0){var p=g(h);return p===k?void 0:p}return Reflect.get(o,l,f)},getOwnPropertyDescriptor(o,l){var f=Reflect.getOwnPropertyDescriptor(o,l);if(f&&"value"in f){var h=n.get(l);h&&(f.value=g(h))}else if(f===void 0){var d=n.get(l),p=d?.v;if(d!==void 0&&p!==k)return{enumerable:!0,configurable:!0,value:p,writable:!0}}return f},has(o,l){if(l===nt)return!0;var f=n.get(l),h=f!==void 0&&f.v!==k||Reflect.has(o,l);if(f!==void 0||w!==null&&(!h||ze(o,l)?.writable)){f===void 0&&(f=a(()=>{var p=h?Te(o[l]):k,v=U(p);return v}),n.set(l,f));var d=g(f);if(d===k)return!1}return h},set(o,l,f,h){var d=n.get(l),p=l in o;if(r&&l==="length")for(var v=f;v<d.v;v+=1){var c=n.get(v+"");c!==void 0?x(c,k):v in o&&(c=a(()=>U(k)),n.set(v+"",c))}if(d===void 0)(!p||ze(o,l)?.writable)&&(d=a(()=>U(void 0)),x(d,Te(f)),n.set(l,d));else{p=d.v!==k;var _=a(()=>Te(f));x(d,_)}var y=Reflect.getOwnPropertyDescriptor(o,l);if(y?.set&&y.set.call(h,f),!p){if(r&&typeof l=="string"){var E=n.get("length"),b=Number(l);Number.isInteger(b)&&b>=E.v&&x(E,b+1)}We(s)}return!0},ownKeys(o){g(s);var l=Reflect.ownKeys(o).filter(d=>{var p=n.get(d);return p===void 0||p.v!==k});for(var[f,h]of n)h.v!==k&&!(f in o)&&l.push(f);return l},setPrototypeOf(){Yn()}})}var St,on,an,ln;function br(){if(St===void 0){St=window,on=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;an=ze(e,"firstChild").get,ln=ze(e,"nextSibling").get,Ct(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Ct(n)&&(n.__t=void 0)}}function _e(t=""){return document.createTextNode(t)}function Ze(t){return an.call(t)}function $e(t){return ln.call(t)}function A(t,e){return Ze(t)}function Er(t,e=!1){{var n=Ze(t);return n instanceof Comment&&n.data===""?$e(n):n}}function Y(t,e=1,n=!1){let r=t;for(;e--;)r=$e(r);return r}function Sr(t){t.textContent=""}function fn(){return!1}function Tr(t,e,n){return document.createElementNS(qt,t,void 0)}function cn(t){var e=m,n=w;j(null),te(null);try{return t()}finally{j(e),te(n)}}function Pr(t){w===null&&(m===null&&jn(),$n()),Ce&&Hn()}function kr(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function de(t,e,n){var r=w;r!==null&&(r.f&B)!==0&&(t|=B);var s={ctx:T,deps:null,nodes:null,f:t|F|H,first:null,fn:e,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{Ae(s)}catch(o){throw O(s),o}else e!==null&&G(s);var i=s;if(n&&i.deps===null&&i.teardown===null&&i.nodes===null&&i.first===i.last&&(i.f&Ne)===0&&(i=i.first,(t&re)!==0&&(t&Re)!==0&&i!==null&&(i.f|=Re)),i!==null&&(i.parent=r,r!==null&&kr(i,r),m!==null&&(m.f&R)!==0&&(t&be)===0)){var a=m;(a.effects??=[]).push(i)}return s}function vt(){return m!==null&&!Q}function Rr(t){const e=de(tt,null,!1);return S(e,P),e.teardown=t,e}function Fr(t){Pr();var e=w.f,n=!m&&(e&X)!==0&&(e&we)===0;if(n){var r=T;(r.e??=[]).push(t)}else return un(t)}function un(t){return de(et|zn,t,!1)}function xr(t){ce.ensure();const e=de(be|Ne,t,!0);return(n={})=>new Promise(r=>{n.outro?ge(e,()=>{O(e),r(void 0)}):(O(e),r(void 0))})}function Ar(t){return de(ut|Ne,t,!0)}function Nr(t,e=0){return de(tt|e,t,!0)}function Ge(t,e=[],n=[],r=[]){pr(r,e,n,s=>{de(tt,()=>t(...s.map(g)),!0)})}function _t(t,e=0){var n=de(re|e,t,!0);return n}function q(t){return de(X|Ne,t,!0)}function dn(t){var e=t.teardown;if(e!==null){const n=Ce,r=m;Tt(!0),j(null);try{e.call(null)}finally{Tt(n),j(r)}}}function gt(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const s=n.ac;s!==null&&cn(()=>{s.abort(pe)});var r=n.next;(n.f&be)!==0?n.parent=null:O(n,e),n=r}}function Or(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&X)===0&&O(e),e=n}}function O(t,e=!0){var n=!1;(e||(t.f&Ut)!==0)&&t.nodes!==null&&t.nodes.end!==null&&(Dr(t.nodes.start,t.nodes.end),n=!0),gt(t,e&&!n),Ue(t,0),S(t,le);var r=t.nodes&&t.nodes.t;if(r!==null)for(const i of r)i.stop();dn(t);var s=t.parent;s!==null&&s.first!==null&&hn(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes=t.ac=null}function Dr(t,e){for(;t!==null;){var n=t===e?null:$e(t);t.remove(),t=n}}function hn(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function ge(t,e,n=!0){var r=[];pn(t,r,!0);var s=()=>{n&&O(t),e&&e()},i=r.length;if(i>0){var a=()=>--i||s();for(var o of r)o.out(a)}else s()}function pn(t,e,n){if((t.f&B)===0){t.f^=B;var r=t.nodes&&t.nodes.t;if(r!==null)for(const o of r)(o.is_global||n)&&e.push(o);for(var s=t.first;s!==null;){var i=s.next,a=(s.f&Re)!==0||(s.f&X)!==0&&(t.f&re)!==0;pn(s,e,a?n:!1),s=i}}}function mt(t){vn(t,!0)}function vn(t,e){if((t.f&B)!==0){t.f^=B,(t.f&P)===0&&(S(t,F),G(t));for(var n=t.first;n!==null;){var r=n.next,s=(n.f&Re)!==0||(n.f&X)!==0;vn(n,s?e:!1),n=r}var i=t.nodes&&t.nodes.t;if(i!==null)for(const a of i)(a.is_global||e)&&a.in()}}function _n(t,e){if(t.nodes)for(var n=t.nodes.start,r=t.nodes.end;n!==null;){var s=n===r?null:$e(n);e.append(n),n=s}}let Qe=!1,Ce=!1;function Tt(t){Ce=t}let m=null,Q=!1;function j(t){m=t}let w=null;function te(t){w=t}let $=null;function Mr(t){m!==null&&($===null?$=[t]:$.push(t))}let N=null,L=0,z=null;function Lr(t){z=t}let gn=1,ve=0,me=ve;function Pt(t){me=t}function mn(){return++gn}function je(t){var e=t.f;if((e&F)!==0)return!0;if(e&R&&(t.f&=~ye),(e&Z)!==0){for(var n=t.deps,r=n.length,s=0;s<r;s++){var i=n[s];if(je(i)&&tn(i),i.wv>t.wv)return!0}(e&H)!==0&&K===null&&S(t,P)}return!1}function wn(t,e,n=!0){var r=t.reactions;if(r!==null&&!($!==null&&ke.call($,t)))for(var s=0;s<r.length;s++){var i=r[s];(i.f&R)!==0?wn(i,e,!1):e===i&&(n?S(i,F):(i.f&P)!==0&&S(i,Z),G(i))}}function yn(t){var e=N,n=L,r=z,s=m,i=$,a=T,o=Q,l=me,f=t.f;N=null,L=0,z=null,m=(f&(X|be))===0?t:null,$=null,Fe(t.ctx),Q=!1,me=++ve,t.ac!==null&&(cn(()=>{t.ac.abort(pe)}),t.ac=null);try{t.f|=it;var h=t.fn,d=h();t.f|=we;var p=t.deps,v=C?.is_fork;if(N!==null){var c;if(v||Ue(t,L),p!==null&&L>0)for(p.length=L+N.length,c=0;c<N.length;c++)p[L+c]=N[c];else t.deps=p=N;if(vt()&&(t.f&H)!==0)for(c=L;c<p.length;c++)(p[c].reactions??=[]).push(t)}else!v&&p!==null&&L<p.length&&(Ue(t,L),p.length=L);if(He()&&z!==null&&!Q&&p!==null&&(t.f&(R|Z|F))===0)for(c=0;c<z.length;c++)wn(z[c],t);if(s!==null&&s!==t){if(ve++,s.deps!==null)for(let _=0;_<n;_+=1)s.deps[_].rv=ve;if(e!==null)for(const _ of e)_.rv=ve;z!==null&&(r===null?r=z:r.push(...z))}return(t.f&fe)!==0&&(t.f^=fe),d}catch(_){return Jt(_)}finally{t.f^=it,N=e,L=n,z=r,m=s,$=i,Fe(a),Q=o,me=l}}function Br(t,e){let n=e.reactions;if(n!==null){var r=An.call(n,t);if(r!==-1){var s=n.length-1;s===0?n=e.reactions=null:(n[r]=n[s],n.pop())}}if(n===null&&(e.f&R)!==0&&(N===null||!ke.call(N,e))){var i=e;(i.f&H)!==0&&(i.f^=H,i.f&=~ye),dt(i),yr(i),Ue(i,0)}}function Ue(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)Br(t,n[r])}function Ae(t){var e=t.f;if((e&le)===0){S(t,P);var n=w,r=Qe;w=t,Qe=!0;try{(e&(re|Wt))!==0?Or(t):gt(t),dn(t);var s=yn(t);t.teardown=typeof s=="function"?s:null,t.wv=gn;var i;rt&&sr&&(t.f&F)!==0&&t.deps}finally{Qe=r,w=n}}}function g(t){var e=t.f,n=(e&R)!==0;if(m!==null&&!Q){var r=w!==null&&(w.f&le)!==0;if(!r&&($===null||!ke.call($,t))){var s=m.deps;if((m.f&it)!==0)t.rv<ve&&(t.rv=ve,N===null&&s!==null&&s[L]===t?L++:N===null?N=[t]:N.push(t));else{(m.deps??=[]).push(t);var i=t.reactions;i===null?t.reactions=[m]:ke.call(i,m)||i.push(m)}}}if(Ce&&ue.has(t))return ue.get(t);if(n){var a=t;if(Ce){var o=a.v;return((a.f&P)===0&&a.reactions!==null||Cn(a))&&(o=pt(a)),ue.set(a,o),o}var l=(a.f&H)===0&&!Q&&m!==null&&(Qe||(m.f&H)!==0),f=(a.f&we)===0;je(a)&&(l&&(a.f|=H),tn(a)),l&&!f&&(nn(a),In(a))}if(K?.has(t))return K.get(t);if((t.f&fe)!==0)throw t.v;return t.v}function In(t){if(t.f|=H,t.deps!==null)for(const e of t.deps)(e.reactions??=[]).push(t),(e.f&R)!==0&&(e.f&H)===0&&(nn(e),In(e))}function Cn(t){if(t.v===k)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(ue.has(e)||(e.f&R)!==0&&Cn(e))return!0;return!1}function bn(t){var e=Q;try{return Q=!0,t()}finally{Q=e}}const zr=["touchstart","touchmove"];function Wr(t){return zr.includes(t)}const Le=Symbol("events"),En=new Set,ft=new Set;function kt(t,e,n){(e[Le]??={})[t]=n}function Ur(t){for(var e=0;e<t.length;e++)En.add(t[e]);for(var n of ft)n(t)}let Rt=null;function Ft(t){var e=this,n=e.ownerDocument,r=t.type,s=t.composedPath?.()||[],i=s[0]||t.target;Rt=t;var a=0,o=Rt===t&&t[Le];if(o){var l=s.indexOf(o);if(l!==-1&&(e===document||e===window)){t[Le]=e;return}var f=s.indexOf(e);if(f===-1)return;l<=f&&(a=l)}if(i=s[a]||t.target,i!==e){Nn(t,"currentTarget",{configurable:!0,get(){return i||n}});var h=m,d=w;j(null),te(null);try{for(var p,v=[];i!==null;){var c=i.assignedSlot||i.parentNode||i.host||null;try{var _=i[Le]?.[r];_!=null&&(!i.disabled||t.target===i)&&_.call(i,t)}catch(y){p?v.push(y):p=y}if(t.cancelBubble||c===e||c===null)break;i=c}if(p){for(let y of v)queueMicrotask(()=>{throw y});throw p}}finally{t[Le]=e,delete t.currentTarget,j(h),te(d)}}}const qr=globalThis?.window?.trustedTypes&&globalThis.window.trustedTypes.createPolicy("svelte-trusted-html",{createHTML:t=>t});function Hr(t){return qr?.createHTML(t)??t}function $r(t){var e=Tr("template");return e.innerHTML=Hr(t.replaceAll("<!>","<!---->")),e.content}function xt(t,e){var n=w;n.nodes===null&&(n.nodes={start:t,end:e,a:null,t:null})}function Oe(t,e){var n=(e&er)!==0,r=(e&tr)!==0,s,i=!t.startsWith("<!>");return()=>{s===void 0&&(s=$r(i?t:"<!>"+t),n||(s=Ze(s)));var a=r||on?document.importNode(s,!0):s.cloneNode(!0);if(n){var o=Ze(a),l=a.lastChild;xt(o,l)}else xt(a,a);return a}}function Ee(t,e){t!==null&&t.before(e)}function De(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??=t.nodeValue)&&(t.__t=n,t.nodeValue=n+"")}function jr(t,e){return Vr(t,e)}const Ke=new Map;function Vr(t,{target:e,anchor:n,props:r={},events:s,context:i,intro:a=!0,transformError:o}){br();var l=void 0,f=xr(()=>{var h=n??e.appendChild(_e());dr(h,{pending:()=>{}},v=>{jt({});var c=T;i&&(c.c=i),s&&(r.$$events=s),l=t(v,r)||{},Vt()},o);var d=new Set,p=v=>{for(var c=0;c<v.length;c++){var _=v[c];if(!d.has(_)){d.add(_);var y=Wr(_);for(const V of[e,document]){var E=Ke.get(V);E===void 0&&(E=new Map,Ke.set(V,E));var b=E.get(_);b===void 0?(V.addEventListener(_,Ft,{passive:y}),E.set(_,1)):E.set(_,b+1)}}}};return p(Xe(En)),ft.add(p),()=>{for(var v of d)for(const y of[e,document]){var c=Ke.get(y),_=c.get(v);--_==0?(y.removeEventListener(v,Ft),c.delete(v),c.size===0&&Ke.delete(y)):c.set(v,_)}ft.delete(p),h!==n&&h.parentNode?.removeChild(h)}});return Jr.set(l,f),l}let Jr=new WeakMap;class Yr{anchor;#t=new Map;#a=new Map;#e=new Map;#i=new Set;#n=!0;constructor(e,n=!0){this.anchor=e,this.#n=n}#o=()=>{var e=C;if(this.#t.has(e)){var n=this.#t.get(e),r=this.#a.get(n);if(r)mt(r),this.#i.delete(n);else{var s=this.#e.get(n);s&&(this.#a.set(n,s.effect),this.#e.delete(n),s.fragment.lastChild.remove(),this.anchor.before(s.fragment),r=s.effect)}for(const[i,a]of this.#t){if(this.#t.delete(i),i===e)break;const o=this.#e.get(a);o&&(O(o.effect),this.#e.delete(a))}for(const[i,a]of this.#a){if(i===n||this.#i.has(i))continue;const o=()=>{if(Array.from(this.#t.values()).includes(i)){var f=document.createDocumentFragment();_n(a,f),f.append(_e()),this.#e.set(i,{effect:a,fragment:f})}else O(a);this.#i.delete(i),this.#a.delete(i)};this.#n||!r?(this.#i.add(i),ge(a,o,!1)):o()}}};#r=e=>{this.#t.delete(e);const n=Array.from(this.#t.values());for(const[r,s]of this.#e)n.includes(r)||(O(s.effect),this.#e.delete(r))};ensure(e,n){var r=C,s=fn();if(n&&!this.#a.has(e)&&!this.#e.has(e))if(s){var i=document.createDocumentFragment(),a=_e();i.append(a),this.#e.set(e,{effect:q(()=>n(a)),fragment:i})}else this.#a.set(e,q(()=>n(this.anchor)));if(this.#t.set(r,e),s){for(const[o,l]of this.#a)o===e?r.unskip_effect(l):r.skip_effect(l);for(const[o,l]of this.#e)o===e?r.unskip_effect(l.effect):r.skip_effect(l.effect);r.oncommit(this.#o),r.ondiscard(this.#r)}else this.#o()}}function At(t,e,n=!1){var r=new Yr(t),s=n?Re:0;function i(a,o){r.ensure(a,o)}_t(()=>{var a=!1;e((o,l=0)=>{a=!0,i(l,o)}),a||i(!1,null)},s)}function Kr(t,e){return e}function Gr(t,e,n){for(var r=[],s=e.length,i,a=e.length,o=0;o<s;o++){let d=e[o];ge(d,()=>{if(i){if(i.pending.delete(d),i.done.add(d),i.pending.size===0){var p=t.outrogroups;ct(Xe(i.done)),p.delete(i),p.size===0&&(t.outrogroups=null)}}else a-=1},!1)}if(a===0){var l=r.length===0&&n!==null;if(l){var f=n,h=f.parentNode;Sr(h),h.append(f),t.items.clear()}ct(e,!l)}else i={pending:new Set(e),done:new Set},(t.outrogroups??=new Set).add(i)}function ct(t,e=!0){for(var n=0;n<t.length;n++)O(t[n],e)}var Nt;function Qr(t,e,n,r,s,i=null){var a=t,o=new Map;{var l=t;a=l.appendChild(_e())}var f=null,h=en(()=>{var y=n();return Lt(y)?y:y==null?[]:Xe(y)}),d,p=!0;function v(){_.fallback=f,Zr(_,d,a,e,r),f!==null&&(d.length===0?(f.f&oe)===0?mt(f):(f.f^=oe,Be(f,null,a)):ge(f,()=>{f=null}))}var c=_t(()=>{d=g(h);for(var y=d.length,E=new Set,b=C,V=fn(),D=0;D<y;D+=1){var ee=d[D],se=r(ee,D),M=p?null:o.get(se);M?(M.v&&xe(M.v,ee),M.i&&xe(M.i,D),V&&b.unskip_effect(M.e)):(M=Xr(o,p?a:Nt??=_e(),ee,se,D,s,e,n),p||(M.e.f|=oe),o.set(se,M)),E.add(se)}if(y===0&&i&&!f&&(p?f=q(()=>i(a)):(f=q(()=>i(Nt??=_e())),f.f|=oe)),y>E.size&&qn(),!p)if(V){for(const[J,Ve]of o)E.has(J)||b.skip_effect(Ve.e);b.oncommit(v),b.ondiscard(()=>{})}else v();g(h)}),_={effect:c,items:o,outrogroups:null,fallback:f};p=!1}function Me(t){for(;t!==null&&(t.f&X)===0;)t=t.next;return t}function Zr(t,e,n,r,s){var i=e.length,a=t.items,o=Me(t.effect.first),l,f=null,h=[],d=[],p,v,c,_;for(_=0;_<i;_+=1){if(p=e[_],v=s(p,_),c=a.get(v).e,t.outrogroups!==null)for(const J of t.outrogroups)J.pending.delete(c),J.done.delete(c);if((c.f&oe)!==0)if(c.f^=oe,c===o)Be(c,null,n);else{var y=f?f.next:o;c===t.effect.last&&(t.effect.last=c.prev),c.prev&&(c.prev.next=c.next),c.next&&(c.next.prev=c.prev),ie(t,f,c),ie(t,c,y),Be(c,y,n),f=c,h=[],d=[],o=Me(f.next);continue}if((c.f&B)!==0&&mt(c),c!==o){if(l!==void 0&&l.has(c)){if(h.length<d.length){var E=d[0],b;f=E.prev;var V=h[0],D=h[h.length-1];for(b=0;b<h.length;b+=1)Be(h[b],E,n);for(b=0;b<d.length;b+=1)l.delete(d[b]);ie(t,V.prev,D.next),ie(t,f,V),ie(t,D,E),o=E,f=D,_-=1,h=[],d=[]}else l.delete(c),Be(c,o,n),ie(t,c.prev,c.next),ie(t,c,f===null?t.effect.first:f.next),ie(t,f,c),f=c;continue}for(h=[],d=[];o!==null&&o!==c;)(l??=new Set).add(o),d.push(o),o=Me(o.next);if(o===null)continue}(c.f&oe)===0&&h.push(c),f=c,o=Me(c.next)}if(t.outrogroups!==null){for(const J of t.outrogroups)J.pending.size===0&&(ct(Xe(J.done)),t.outrogroups?.delete(J));t.outrogroups.size===0&&(t.outrogroups=null)}if(o!==null||l!==void 0){var ee=[];if(l!==void 0)for(c of l)(c.f&B)===0&&ee.push(c);for(;o!==null;)(o.f&B)===0&&o!==t.fallback&&ee.push(o),o=Me(o.next);var se=ee.length;if(se>0){var M=i===0?n:null;Gr(t,ee,M)}}}function Xr(t,e,n,r,s,i,a,o){var l=(a&Qn)!==0?(a&Xn)===0?Ir(n,!1,!1):Ie(n):null,f=(a&Zn)!==0?Ie(s):null;return{v:l,i:f,e:q(()=>(i(e,l??n,f??s,o),()=>{t.delete(r)}))}}function Be(t,e,n){if(t.nodes)for(var r=t.nodes.start,s=t.nodes.end,i=e&&(e.f&oe)===0?e.nodes.start:n;r!==null;){var a=$e(r);if(i.before(r),r===s)return;r=a}}function ie(t,e,n){e===null?t.effect.first=n:e.next=n,n===null?t.effect.last=e:n.prev=e}const es=Symbol("is custom element"),ts=Symbol("is html");function Ot(t,e,n,r){var s=ns(t);s[e]!==(s[e]=n)&&(n==null?t.removeAttribute(e):typeof n!="string"&&rs(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function ns(t){return t.__attributes??={[es]:t.nodeName.includes("-"),[ts]:t.namespaceURI===qt}}var Dt=new Map;function rs(t){var e=t.getAttribute("is")||t.nodeName,n=Dt.get(e);if(n)return n;Dt.set(e,n=[]);for(var r,s=t,i=Element.prototype;i!==s;){r=On(s);for(var a in r)r[a].set&&n.push(a);s=Bt(s)}return n}function ss(t){T===null&&Wn(),qe&&T.l!==null?is(T).m.push(t):Fr(()=>{const e=bn(t);if(typeof e=="function")return e})}function is(t){var e=t.l;return e.u??={a:[],b:[],m:[]}}const os="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(os);ir();const as="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--logos'%20width='26.6'%20height='32'%20preserveAspectRatio='xMidYMid%20meet'%20viewBox='0%200%20256%20308'%3e%3cpath%20fill='%23FF3E00'%20d='M239.682%2040.707C211.113-.182%20154.69-12.301%20113.895%2013.69L42.247%2059.356a82.198%2082.198%200%200%200-37.135%2055.056a86.566%2086.566%200%200%200%208.536%2055.576a82.425%2082.425%200%200%200-12.296%2030.719a87.596%2087.596%200%200%200%2014.964%2066.244c28.574%2040.893%2084.997%2053.007%20125.787%2027.016l71.648-45.664a82.182%2082.182%200%200%200%2037.135-55.057a86.601%2086.601%200%200%200-8.53-55.577a82.409%2082.409%200%200%200%2012.29-30.718a87.573%2087.573%200%200%200-14.963-66.244'%3e%3c/path%3e%3cpath%20fill='%23FFF'%20d='M106.889%20270.841c-23.102%206.007-47.497-3.036-61.103-22.648a52.685%2052.685%200%200%201-9.003-39.85a49.978%2049.978%200%200%201%201.713-6.693l1.35-4.115l3.671%202.697a92.447%2092.447%200%200%200%2028.036%2014.007l2.663.808l-.245%202.659a16.067%2016.067%200%200%200%202.89%2010.656a17.143%2017.143%200%200%200%2018.397%206.828a15.786%2015.786%200%200%200%204.403-1.935l71.67-45.672a14.922%2014.922%200%200%200%206.734-9.977a15.923%2015.923%200%200%200-2.713-12.011a17.156%2017.156%200%200%200-18.404-6.832a15.78%2015.78%200%200%200-4.396%201.933l-27.35%2017.434a52.298%2052.298%200%200%201-14.553%206.391c-23.101%206.007-47.497-3.036-61.101-22.649a52.681%2052.681%200%200%201-9.004-39.849a49.428%2049.428%200%200%201%2022.34-33.114l71.664-45.677a52.218%2052.218%200%200%201%2014.563-6.398c23.101-6.007%2047.497%203.036%2061.101%2022.648a52.685%2052.685%200%200%201%209.004%2039.85a50.559%2050.559%200%200%201-1.713%206.692l-1.35%204.116l-3.67-2.693a92.373%2092.373%200%200%200-28.037-14.013l-2.664-.809l.246-2.658a16.099%2016.099%200%200%200-2.89-10.656a17.143%2017.143%200%200%200-18.398-6.828a15.786%2015.786%200%200%200-4.402%201.935l-71.67%2045.674a14.898%2014.898%200%200%200-6.73%209.975a15.9%2015.9%200%200%200%202.709%2012.012a17.156%2017.156%200%200%200%2018.404%206.832a15.841%2015.841%200%200%200%204.402-1.935l27.345-17.427a52.147%2052.147%200%200%201%2014.552-6.397c23.101-6.006%2047.497%203.037%2061.102%2022.65a52.681%2052.681%200%200%201%209.003%2039.848a49.453%2049.453%200%200%201-22.34%2033.12l-71.664%2045.673a52.218%2052.218%200%200%201-14.563%206.398'%3e%3c/path%3e%3c/svg%3e",ls="/vite.svg",fs=64e3,cs=1e6;class us{chunkSize;maxPartitionSize;offset=0;partitionSize=0;inProgress=!1;file;onChunk;onPartitionEnd;constructor(e,n,r,s){this.file=e,this.onChunk=n,this.onPartitionEnd=r,this.chunkSize=s?.chunkSize??fs,this.maxPartitionSize=s?.maxPartitionSize??cs}get progress(){return this.file.size===0?1:this.offset/this.file.size}get isFileEnd(){return this.offset>=this.file.size}get bytesProcessed(){return this.offset}async nextPartition(){if(this.inProgress)throw new Error("partition read already in progress");if(this.isFileEnd)return{offset:this.offset,fileEnd:!0};this.inProgress=!0,this.partitionSize=0;try{for(;!this.isFileEnd&&!this.isPartitionEnd();){const e=await this.readChunk();if(e.byteLength===0)break;this.offset+=e.byteLength,this.partitionSize+=e.byteLength,this.onChunk(e)}return!this.isFileEnd&&this.isPartitionEnd()&&this.onPartitionEnd(this.offset),{offset:this.offset,fileEnd:this.isFileEnd}}finally{this.inProgress=!1}}async repeatPartition(){if(this.inProgress)throw new Error("cannot repeat while partition read is in progress");return this.offset=Math.max(0,this.offset-this.partitionSize),this.nextPartition()}isPartitionEnd(){return this.partitionSize>=this.maxPartitionSize}readChunk(){return new Promise((e,n)=>{const r=new FileReader,s=this.file.slice(this.offset,this.offset+this.chunkSize);r.onload=i=>{const a=i.target?.result;if(!(a instanceof ArrayBuffer)){n(new Error("failed to read file chunk"));return}e(a)},r.onerror=()=>n(r.error??new Error("failed to read file chunk")),r.readAsArrayBuffer(s)})}}class ds{constructor(e,n){if(this.meta=e,this.callback=n,e.size<0)throw new Error("meta.size must be >= 0");this.mime=e.mime&&e.mime.length>0?e.mime:"application/octet-stream",this.done=new Promise((r,s)=>{this.resolveDone=r,this.rejectDone=s}),this.meta.size===0&&(this.progress=1,this.complete())}buffer=[];bytesReceivedInternal=0;settled=!1;mime;progress=0;resolveDone;rejectDone;done;get bytesReceived(){return this.bytesReceivedInternal}get totalBytes(){return this.meta.size}get fileName(){return this.meta.name}unchunk(e){if(this.settled)return;const n=e instanceof ArrayBuffer?e.byteLength:e.size;if(n===0)return;const r=this.meta.size-this.bytesReceivedInternal;if(r<=0){this.complete();return}if(n>r){this.abort(new Error("received chunk larger than expected remaining bytes"));return}this.buffer.push(e),this.bytesReceivedInternal+=n,this.progress=this.meta.size===0?1:this.bytesReceivedInternal/this.meta.size,Number.isNaN(this.progress)&&(this.progress=1),this.bytesReceivedInternal===this.meta.size&&this.complete()}abort(e){this.settled||(this.settled=!0,this.rejectDone(e??new Error("file digest aborted")))}complete(){if(this.settled)return;this.settled=!0;const e=new Blob(this.buffer,{type:this.mime}),n={name:this.meta.name,mime:this.mime,size:this.meta.size,blob:e};this.callback?.(n),this.resolveDone(n)}}class Mt{pc=null;dc=null;signaling;peerId;sessionId;isConnected=!1;isCaller=!1;iceServers=[];pendingCandidates=[];lastConnectionState=null;fileTransfer;constructor({signaling:e,peerId:n,sessionId:r}){this.signaling=e,this.peerId=n,this.sessionId=r,this.fileTransfer=new hs({peerId:n,sendRaw:s=>this.sendData(s),onFileReceived:s=>this.handleReceivedFile(s),onProgress:s=>{console.log("[WebRTC] transfer progress",{peerId:this.peerId,sessionId:this.sessionId,progress:s})},onTransferCompleted:()=>{console.log("[WebRTC] transfer completed",{peerId:this.peerId,sessionId:this.sessionId})}})}sendFiles(e){this.fileTransfer.sendFiles(e)}createPeerConnection(){if(this.pc)return;const e={iceServers:this.iceServers.map(n=>({urls:n.urls,username:n.username,credential:n.credential}))};this.pc=new RTCPeerConnection(e),console.log("[WebRTC] create peer connection",{sessionId:this.sessionId,peerId:this.peerId,isCaller:this.isCaller,iceServers:this.iceServers}),this.pc.onicecandidate=n=>{n.candidate&&(console.log("[WebRTC] local ICE candidate",{sessionId:this.sessionId,peerId:this.peerId}),this.signaling.send({type:"CANDIDATE",sessionId:this.sessionId,target:this.peerId,candidate:n.candidate}))},this.pc.onconnectionstatechange=()=>{const n=this.pc?.connectionState;if(console.log("[WebRTC] connection state:",n,{sessionId:this.sessionId,peerId:this.peerId}),!(!n||n===this.lastConnectionState)){if(this.lastConnectionState=n,n==="connected"){this.isConnected=!0,console.log("[WebRTC] peer connected",{sessionId:this.sessionId,peerId:this.peerId,role:this.isCaller?"caller":"callee"}),this.logSelectedCandidatePair();return}(n==="disconnected"||n==="failed"||n==="closed")&&(this.isConnected=!1,console.warn("[WebRTC] peer not connected",{state:n,sessionId:this.sessionId,peerId:this.peerId,role:this.isCaller?"caller":"callee"}))}},this.pc.oniceconnectionstatechange=()=>{console.log("[WebRTC] ICE connection state:",this.pc?.iceConnectionState,{sessionId:this.sessionId,peerId:this.peerId})},this.pc.ondatachannel=n=>{this.setupDataChannel(n.channel)},this.isCaller&&(this.createDataChannel(),this.createOffer())}setupDataChannel(e){this.dc=e,e.binaryType="arraybuffer",e.onopen=()=>{console.log("Data channel opened")},e.onmessage=n=>{this.fileTransfer.handleIncomingMessage(n.data)},e.onclose=()=>{console.log("Data channel closed")},e.onerror=n=>{console.error("Data channel error:",n)}}createDataChannel(){if(!this.pc||this.dc)return;const e=this.pc.createDataChannel("data",{ordered:!0});this.setupDataChannel(e)}async HandlerOffer(e){if(this.pc||this.createPeerConnection(),!!this.pc)try{console.log("[WebRTC] received offer",{sessionId:this.sessionId,peerId:this.peerId}),await this.pc.setRemoteDescription(e),await this.flushPendingCandidates();const n=await this.pc.createAnswer();await this.pc.setLocalDescription(n),console.log("[WebRTC] sending answer",{sessionId:this.sessionId,peerId:this.peerId}),this.signaling.send({type:"ANSWER",sessionId:this.sessionId,target:this.peerId,sdp:n.sdp??""})}catch(n){console.error("Failed to handle offer:",n)}}async HandleAnswer(e){if(this.pc)try{console.log("[WebRTC] received answer",{sessionId:this.sessionId,peerId:this.peerId}),await this.pc.setRemoteDescription(e),await this.flushPendingCandidates()}catch(n){console.error("Failed to handle answer:",n)}}async HandleCandidate(e){if(this.pc)try{const n=e instanceof RTCIceCandidate?e.toJSON():e;if(!n?.candidate)return;if(!this.pc.remoteDescription){console.log("[WebRTC] queue remote ICE candidate until remote description",{sessionId:this.sessionId,peerId:this.peerId}),this.pendingCandidates.push(n);return}console.log("[WebRTC] add remote ICE candidate",{sessionId:this.sessionId,peerId:this.peerId}),await this.pc.addIceCandidate(new RTCIceCandidate(n))}catch(n){console.error("Failed to add ICE candidate",n)}}destroy(){this.fileTransfer.destroy(),this.dc&&(this.dc.onopen=null,this.dc.onmessage=null,this.dc.onclose=null,this.dc.onerror=null,this.dc.close(),this.dc=null),this.pc&&(this.pc.onicecandidate=null,this.pc.onconnectionstatechange=null,this.pc.oniceconnectionstatechange=null,this.pc.ondatachannel=null,this.pc.close(),this.pc=null),this.isConnected=!1,this.lastConnectionState=null,this.pendingCandidates=[]}async createOffer(){if(this.pc)try{const e=await this.pc.createOffer();await this.pc.setLocalDescription(e),console.log("[WebRTC] sending offer",{sessionId:this.sessionId,peerId:this.peerId}),this.signaling.send({type:"OFFER",sessionId:this.sessionId,target:this.peerId,sdp:e.sdp??""})}catch(e){console.error("Failed to create offer:",e)}}sendData(e){if(!this.dc||this.dc.readyState!=="open")throw new Error("data channel is not open");if(typeof e=="string"){this.dc.send(e);return}this.dc.send(new Uint8Array(e))}async flushPendingCandidates(){if(!this.pc||!this.pc.remoteDescription||this.pendingCandidates.length===0)return;const e=this.pendingCandidates;this.pendingCandidates=[];for(const n of e)try{console.log("[WebRTC] flush queued ICE candidate",{sessionId:this.sessionId,peerId:this.peerId}),await this.pc.addIceCandidate(new RTCIceCandidate(n))}catch(r){console.error("Failed to flush ICE candidate",r)}}async logSelectedCandidatePair(){if(this.pc)try{const e=await this.pc.getStats(),n=[];e.forEach(r=>{r.type==="transport"&&n.push(r)});for(const r of n){const s=r.selectedCandidatePairId;if(!s)continue;const i=e.get(s);if(!i||i.type!=="candidate-pair")continue;const a=e.get(i.localCandidateId),o=e.get(i.remoteCandidateId),l=a,f=o;console.log("[WebRTC] selected ICE candidate pair",{sessionId:this.sessionId,peerId:this.peerId,local:a?`${l.protocol??"unknown"}:${l.address??"unknown"}:${l.port??"unknown"}`:"unknown",remote:o?`${f.protocol??"unknown"}:${f.address??"unknown"}:${f.port??"unknown"}`:"unknown",currentRoundTripTime:i.currentRoundTripTime});return}console.log("[WebRTC] selected ICE candidate pair unavailable",{sessionId:this.sessionId,peerId:this.peerId})}catch(e){console.warn("[WebRTC] failed to read ICE candidate pair stats",{sessionId:this.sessionId,peerId:this.peerId,error:e})}}handleReceivedFile(e){console.log("[WebRTC] file received",{peerId:this.peerId,sessionId:this.sessionId,name:e.name,size:e.size,mime:e.mime});const n=URL.createObjectURL(e.blob),r=document.createElement("a");r.href=n,r.download=e.name,r.style.display="none",document.body.appendChild(r),r.click(),r.remove(),setTimeout(()=>URL.revokeObjectURL(n),1e3)}}class hs{peerId;sendRaw;onFileReceived;onProgress;onTransferCompleted;filesQueue=[];busy=!1;chunker=null;digester=null;lastProgress=0;constructor(e){this.peerId=e.peerId,this.sendRaw=e.sendRaw,this.onFileReceived=e.onFileReceived,this.onProgress=e.onProgress,this.onTransferCompleted=e.onTransferCompleted}sendFiles(e){const n=Array.isArray(e)?e:Array.from(e);for(const r of n)this.filesQueue.push(r);this.busy||this.dequeueFile()}async handleIncomingMessage(e){if(typeof e!="string"){await this.onChunkReceived(e);return}let n;try{n=JSON.parse(e)}catch(r){console.warn("[WebRTC] invalid transfer control message",{peerId:this.peerId,error:r});return}switch(console.log("[WebRTC] transfer message",{peerId:this.peerId,type:n.type}),n.type){case"header":this.onFileHeader(n);return;case"partition":this.onReceivedPartitionEnd(n.offset);return;case"partition-received":await this.sendNextPartition();return;case"progress":this.onDownloadProgress(n.progress);return;case"transfer-complete":await this.onTransferCompletedByPeer();return;default:return}}destroy(){this.filesQueue=[],this.busy=!1,this.chunker=null,this.digester?.abort(new Error("transfer destroyed")),this.digester=null,this.lastProgress=0}async dequeueFile(){const e=this.filesQueue.shift();if(!e){this.busy=!1;return}this.busy=!0,await this.sendFile(e)}async sendFile(e){this.sendJSON({type:"header",name:e.name,mime:e.type,size:e.size}),this.chunker=new us(e,n=>this.sendRaw(n),n=>this.onPartitionEnd(n)),await this.chunker.nextPartition()}onPartitionEnd(e){this.sendJSON({type:"partition",offset:e})}onReceivedPartitionEnd(e){this.sendJSON({type:"partition-received",offset:e})}async sendNextPartition(){!this.chunker||this.chunker.isFileEnd||await this.chunker.nextPartition()}sendProgress(e){this.sendJSON({type:"progress",progress:e})}onDownloadProgress(e){this.onProgress?.(e)}onFileHeader(e){this.lastProgress=0,this.digester?.abort(new Error("new file header arrived before previous file completed")),this.digester=new ds({name:e.name,mime:e.mime,size:e.size},n=>{this.onFileReceived?.(n),this.sendJSON({type:"transfer-complete"})}),this.digester.done.catch(n=>{console.error("[WebRTC] file digester failed",{peerId:this.peerId,error:n})})}async onChunkReceived(e){if(!this.digester){console.warn("[WebRTC] received chunk without file header",{peerId:this.peerId});return}const n=e instanceof Blob?await e.arrayBuffer():e;if(!n.byteLength)return;this.digester.unchunk(n);const r=this.digester.progress;this.onDownloadProgress(r),!(r-this.lastProgress<.01&&r<1)&&(this.lastProgress=r,this.sendProgress(r))}async onTransferCompletedByPeer(){this.onDownloadProgress(1),this.chunker=null,this.busy=!1,this.onTransferCompleted?.(),await this.dequeueFile()}sendJSON(e){this.sendRaw(JSON.stringify(e))}}class ps{signaling;peersBySessionId=new Map;pendingCandidatesBySessionId=new Map;_onPeerCreated;_onPeerRemoved;_onError;constructor(e){this.signaling=e.signaling,this._onPeerCreated=e.onPeerCreated,this._onPeerRemoved=e.onPeerRemoved,this._onError=e.onError}startSession(e,n=crypto.randomUUID()){const r=this.peersBySessionId.get(n);if(r)return r;console.log("[PeerManager] start session",{sessionId:n,peerId:e});const s=new Mt({signaling:this.signaling,peerId:e,sessionId:n});return s.isCaller=!0,s.iceServers=this.signaling.getIceServers(),s.createPeerConnection(),this.peersBySessionId.set(n,s),this._onPeerCreated?.(s),s}async handleMessage(e){switch(console.log("[PeerManager] handle message",e.type),e.type){case"HELLO":this._refreshIceServers();return;case"OFFER":await this._handleOffer(e);return;case"ANSWER":await this._handleAnswer(e.sessionId,e.sdp);return;case"CANDIDATE":await this._handleCandidate(e.sessionId,e.candidate);return;case"LEFT":this.removePeerByPeerId(e.peerId);return;default:return}}removePeerByPeerId(e){for(const[n,r]of this.peersBySessionId.entries())r.peerId===e&&(r.destroy(),this.peersBySessionId.delete(n),this.pendingCandidatesBySessionId.delete(n),this._onPeerRemoved?.(r))}getConnectedPeers(){return Array.from(this.peersBySessionId.values()).filter(e=>e.dc?.readyState==="open")}getConnectedPeerCount(){return this.getConnectedPeers().length}sendFilesToConnectedPeers(e){const n=Array.isArray(e)?e:Array.from(e);if(n.length===0)return{peers:0,files:0};const r=this.getConnectedPeers();for(const s of r)s.sendFiles(n);return{peers:r.length,files:n.length}}destroy(){for(const e of this.peersBySessionId.values())e.destroy(),this._onPeerRemoved?.(e);this.peersBySessionId.clear(),this.pendingCandidatesBySessionId.clear()}_refreshIceServers(){const e=this.signaling.getIceServers();for(const n of this.peersBySessionId.values())n.pc||(n.iceServers=e)}async _handleOffer(e){let n=this.peersBySessionId.get(e.sessionId);n||(n=new Mt({signaling:this.signaling,peerId:e.peer.id,sessionId:e.sessionId}),n.isCaller=!1,n.iceServers=this.signaling.getIceServers(),this.peersBySessionId.set(e.sessionId,n),this._onPeerCreated?.(n));try{await n.HandlerOffer({type:"offer",sdp:e.sdp}),await this._flushPendingCandidates(e.sessionId,n)}catch(r){this._onError?.(r)}}async _handleAnswer(e,n){const r=this.peersBySessionId.get(e);if(r)try{await r.HandleAnswer({type:"answer",sdp:n})}catch(s){this._onError?.(s)}}async _handleCandidate(e,n){if(!n)return;const r=this.peersBySessionId.get(e);if(!r){const s=this.pendingCandidatesBySessionId.get(e)??[];s.push(n),this.pendingCandidatesBySessionId.set(e,s);return}try{await r.HandleCandidate(n)}catch(s){this._onError?.(s)}}async _flushPendingCandidates(e,n){const r=this.pendingCandidatesBySessionId.get(e);if(!(!r||r.length===0)){this.pendingCandidatesBySessionId.delete(e);for(const s of r)await n.HandleCandidate(s)}}}class vs{socket=null;info;url=this._endpoint;_iceServers=[];_reconnectTimer=null;_isDestroyed=!1;_onOpen;_onMessage;_onClose;_onError;constructor(e){this.info=e.info??null,this._onOpen=e.onOpen,this._onMessage=e.onMessage,this._onClose=e.onClose,this._onError=e.onError,this._connect()}send(e){return this._isConnected()?(this.socket.send(JSON.stringify(e)),!0):!1}getIceServers(){return this._iceServers}destroy(){this._isDestroyed=!0,this._clearReconnectTimer(),this.socket&&(this.socket.onopen=null,this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,this.socket.close(),this.socket=null)}_connect(){if(this._isDestroyed||this._isConnected()||this._isConnecting())return;this._clearReconnectTimer();const e=new WebSocket(this.url);e.onopen=()=>{this.info&&this.send({type:"UPDATE",info:this.info}),this._onOpen?.()},e.onmessage=n=>{let r;try{r=JSON.parse(n.data)}catch(s){this._onError?.(s);return}r.type==="HELLO"&&r.iceServers&&(this._iceServers=r.iceServers),this._onMessage?.(r)},e.onerror=n=>{this._onError?.(n)},e.onclose=n=>{this._handleClose(n)},this.socket=e}_handleClose(e){this.socket=null,this._onClose?.(e),!this._isDestroyed&&(this._clearReconnectTimer(),this._reconnectTimer=setTimeout(()=>this._connect(),5e3))}get _endpoint(){return`${location.protocol.startsWith("https")?"wss":"ws"}://${location.hostname}:9000/ws`}_isConnected(){return this.socket!==null&&this.socket.readyState===WebSocket.OPEN}_isConnecting(){return this.socket!==null&&this.socket.readyState===WebSocket.CONNECTING}_clearReconnectTimer(){this._reconnectTimer&&(clearTimeout(this._reconnectTimer),this._reconnectTimer=null)}}var _s=Oe("<p>No peers online.</p>"),gs=Oe("<li><strong> </strong> <code> </code></li>"),ms=Oe("<ul></ul>"),ws=Oe("<p> </p>"),ys=Oe('<section><h2>Signaling</h2> <p> </p></section> <section><h2>Peers</h2> <!></section> <section><h2>File Transfer</h2> <p> </p> <input type="file" multiple=""/> <button>Send Selected Files</button></section> <!>',1);function Is(t,e){jt(e,!0);let n=null,r=U(null),s=U(null),i=U(Te([])),a=U(""),o=null;function l(u){return g(s)?g(s).id.localeCompare(u)<0:!1}function f(u){if(!g(r))return!1;for(const I of g(r).peersBySessionId.values())if(I.peerId===u)return!0;return!1}function h(u){if(g(s)&&u.id===g(s).id)return;const I=g(i).findIndex(Je=>Je.id===u.id);if(I<0){x(i,[...g(i),u],!0);return}const he=g(i).slice();he[I]=u,x(i,he,!0)}function d(u){x(i,g(i).filter(I=>I.id!==u),!0)}async function p(u){switch(console.log("[WS] incoming:",u.type,u),await g(r)?.handleMessage(u),u.type){case"HELLO":x(s,u.client,!0),x(i,u.peers.filter(I=>I.id!==u.client.id),!0);for(const I of g(i))v(I.id,!0);break;case"JOIN":h(u.peer),v(u.peer.id,!0);break;case"UPDATE":h(u.peer);break;case"LEFT":d(u.peerId);break}}function v(u,I=!1){if(!g(r))return;if(I&&!l(u)){console.log("[AUTO CONNECT] skipping (wait for remote offer):",u);return}if(f(u)){console.log("[CONNECT] session already exists:",u);return}console.log(I?"[AUTO CONNECT] starting session to:":"[CONNECT] starting session to:",u),g(r).startSession(u)}function c(u){o=u.currentTarget.files}function _(){if(!g(r)){console.warn("[UI] peer manager not ready");return}if(!o||o.length===0){console.warn("[UI] no files selected");return}const u=g(r).sendFilesToConnectedPeers(o);if(u.peers===0){console.warn("[UI] no connected peers to send files to");return}console.log("[UI] queued files for connected peers",{files:u.files,peers:u.peers})}ss(()=>(n=new vs({info:{alias:`Browser-${Math.floor(Math.random()*1e3)}`,deviceType:"Browser"},onOpen:()=>{console.log("[WS] connected to signaling server")},onMessage:async u=>{try{await p(u)}catch(I){x(a,I instanceof Error?I.message:String(I),!0),console.error("Failed to handle WS message:",I)}},onClose:u=>{console.log("[WS] signaling closed:",u.code,u.reason)},onError:u=>{x(a,u instanceof Error?u.message:String(u),!0),console.error("Signaling error:",u)}}),x(r,new ps({signaling:n,onPeerCreated:u=>{console.log("[PeerManager] peer session created",{sessionId:u.sessionId,peerId:u.peerId,isCaller:u.isCaller})},onPeerRemoved:u=>{console.log("[PeerManager] peer session removed",{sessionId:u.sessionId,peerId:u.peerId})},onError:u=>{x(a,u instanceof Error?u.message:String(u),!0),console.error("Peer manager error:",u)}}),!0),()=>{g(r)?.destroy(),n?.destroy()}));var y=ys(),E=Er(y),b=Y(A(E),2),V=A(b),D=Y(E,2),ee=Y(A(D),2);{var se=u=>{var I=_s();Ee(u,I)},M=u=>{var I=ms();Qr(I,21,()=>g(i),Kr,(he,Je)=>{var yt=gs(),It=A(yt),Rn=A(It),Fn=Y(It,2),xn=A(Fn);Ge(()=>{De(Rn,g(Je).alias||"Anonymous"),De(xn,g(Je).id)}),Ee(he,yt)}),Ee(u,I)};At(ee,u=>{g(i).length===0?u(se):u(M,!1)})}var J=Y(D,2),Ve=Y(A(J),2),Sn=A(Ve),wt=Y(Ve,2),Tn=Y(wt,2),Pn=Y(J,2);{var kn=u=>{var I=ws(),he=A(I);Ge(()=>De(he,`Last error: ${g(a)??""}`)),Ee(u,I)};At(Pn,u=>{g(a)&&u(kn)})}Ge(u=>{De(V,`Me: ${g(s)?`${g(s).alias||"Anonymous"} (${g(s).id})`:"Connecting..."}`),De(Sn,`Connected peers: ${u??""}`)},[()=>g(r)?.getConnectedPeerCount()??0]),kt("change",wt,c),kt("click",Tn,_),Ee(t,y),Vt()}Ur(["change","click"]);var Cs=Oe('<main><div><a href="https://vite.dev" target="_blank" rel="noreferrer"><img class="logo svelte-1n46o8q" alt="Vite Logo"/></a> <a href="https://svelte.dev" target="_blank" rel="noreferrer"><img class="logo svelte svelte-1n46o8q" alt="Svelte Logo"/></a></div> <h1>Vite + Svelte</h1> <div class="card"><!></div> <p>Check out <a href="https://github.com/sveltejs/kit#readme" target="_blank" rel="noreferrer">SvelteKit</a>, the official Svelte app framework powered by Vite!</p> <p class="read-the-docs svelte-1n46o8q">Click on the Vite and Svelte logos to learn more</p></main>');function bs(t){var e=Cs(),n=A(e),r=A(n),s=A(r),i=Y(r,2),a=A(i),o=Y(n,4),l=A(o);Is(l,{}),Ge(()=>{Ot(s,"src",ls),Ot(a,"src",as)}),Ee(t,e)}jr(bs,{target:document.getElementById("app")});
